$(function(){var e=new Page,t=constant().clientType,n=(constant().sessionKey,$(".drawaward .restcnt")),s=$(".drawaward #moneyamount"),i=$(".drawaward"),a=$(".drawaward .button"),o=function(){this.eggType=null,this.isCertain=!1,this.isGeneralCnt=!1,this.generalCnt=0,this.certainCnt=0,this.lastCnt=0,this.lastAvg=0,this.winningamount=0};o.prototype.getEggType=function(){return this.isGeneralCnt?"FBZ ":this.isCertain?"BZ":"FBZ"},o.prototype.setRestCnt=function(){n.text(this.certainCnt+this.generalCnt)},o.prototype.winMoney=function(){s.text(this.winningamount)},o.prototype.login=function(){user().isLogin()?(a.addClass("timesbegain"),this.certainCnt+this.generalCnt||a.addClass("timesno")):a.addClass("timeslogin")},o.prototype.init=function(e){var t=this;t.lastCnt=t.lastCnt||e.yesterday_total_user,t.lastAvg=t.lastAvg||e.yesterday_bonus_average,t.certainCnt=e.certainly_chance,t.generalCnt=e.general_chance,t.winningamount=e.winning_amount,t.isCertain=!!t.certainCnt,t.isGeneralCnt=!!t.generalCnt,t.eggType=t.getEggType(),t.setRestCnt(),t.winMoney(),t.login()},o.prototype.load=function(){var e=this,t=constant().clientType;e.sessionKey=constant().sessionKey,e.sessionKey&&e.sessionKey.length>5&&$.getJSON(constant().url+"/goldenegg/get",{clientType:t,sessionKey:e.sessionKey},function(t){e.init(t.data)})},o.prototype.hit=function(){var e=this,t=constant().clientType;e.sessionKey=constant().sessionKey,$.getJSON(constant().url+"/goldenegg/submit",{clientType:t,sessionKey:e.sessionKey,golden_egg_type:e.eggType},function(t){var t=t.data;e.init(t),1==t.is_winning?(i.removeClass("miss"),i.addClass("bingo")):(i.removeClass("bingo"),i.addClass("miss")),t.certainly_chance+t.general_chance&&a.addClass("timesmore")})};var r=new o;r.load(),$("#timesbegain").on("click",function(){return user().loginOperate(),$("#drawaward .hammer").animate({left:"-=90px",top:"+=60px"},500,function(){r.hit(),$("#drawaward .hammer").animate({left:"+=90px",top:"-=60px"},1e3)}),!1}),$("#timesmore").on("click",function(){return i.removeClass("bingo"),i.removeClass("miss"),a.removeClass("timesmore"),a.addClass("timesbegain"),!1}),e.geteggs=function(){$.getJSON(constant().url+"/goldenegg/topTen",{clientType:t},function(t){if(t.resultCode="0"){var t=t.data;e.initTemplate(t,"contenttop","temptop")}$("#marquee1").kxbdMarquee({direction:"up",isEqual:!1,scrollDelay:22}),$("#marquee2").kxbdMarquee({direction:"up",isEqual:!1,scrollDelay:22})})},e.init=function(){e.setTitle("领投鸟理财-不动产理财颠覆者-天天砸金蛋"),e.geteggs()},e.init()});