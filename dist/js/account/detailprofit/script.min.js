$(function(){function t(t,e){var a=t.split("-"),n=parseInt(a[0]),i=parseInt(a[1])-1,l=parseInt(a[2]),o=new Date(n,i,l);o.setMonth(o.getMonth()-e);var r=parseInt(o.getMonth())+1;return r<=0&&(n-=-1),o.getFullYear()+"-"+(r<10?"0"+r:r)+"-"+(l<10?"0"+l:l)}var e=new Page,a=new Date,n=a.getFullYear(),i=a.getMonth()+1,l=a.getDate(),o=n+"-"+(i<10?"0"+i:i)+"-"+(l<10?"0"+l:l),r="";e.leftnav=function(){for(var t=location.pathname,e=$("#leftnav .item"),a=0,n=e.length;a<n;a++)e[a].href.indexOf(t)!=-1&&(e[a].className="selected item")},e.collectEarn=function(){function t(t){if(e.isSuccess(t)){var t=t.data;e.initTemplate(t,"chartOne","tempChartOne")}}function a(t){if(e.isSuccess(t)){var t=t.data,a=$("#echartOne")[0],n=echarts.init(a);option={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",icon:"circle"},series:[{name:"账户总览",type:"pie",minAngle:"20",radius:["40%","60%"],center:["50%","50%"],data:[{value:t.rewardProfit,name:"奖励收益"},{value:t.regularProfit,name:"固定收益"}]}],color:["#f084fb","#7fa2fe"]},n.setOption(option)}}function n(){$(".amount .icon").hover(function(){$(this).siblings(".hint").addClass("selected")},function(){$(this).siblings(".hint").removeClass("selected")})}return e.getData("/pc/user/profitDetail",{clientType:"PC",type:"0"},[t,a,n])},e.grandEarn=function(){function t(t){if(e.isSuccess(t)){var t=t.data;e.initTemplate(t,"chartTwo","tempChartTwo")}}function a(t){if(e.isSuccess(t)){var t=t.data,a=$("#echartTwo")[0],n=echarts.init(a);option={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",icon:"circle"},series:[{name:"账户总览",type:"pie",minAngle:"20",radius:["40%","60%"],center:["50%","50%"],data:[{value:t.birdTotal,name:"鸟币收益"},{value:t.financeTotal,name:"固定收益"},{value:t.couponTotal,name:"奖励收益"},{value:t.partnerTotal,name:"分润收益"}]}],color:["#ff2173","#ff4700","#78e8b8","#42b9fd","#ff3b85"]},n.setOption(option)}}function n(){$(".rightInfo .icon").hover(function(){$(this).siblings(".hint").addClass("selected")},function(){$(this).siblings(".hint").removeClass("selected")})}return e.getData("/pc/user/profitDetail",{clientType:"PC",type:"1"},[t,a,n])},e.allPag=function(){function t(t){e.allEarning(t)}$(".pages").paging({totalSize:e.get("totalCount"),turnSize:5,pageSize:10,callback:t})},e.allEarning=function(t){function a(t){if(e.isSuccess(t)){var t=t.data;e.initTemplate(t,"earningDeatil","tempEarningDeatil"),e.set("totalCount",t.totalCount)}"0"==t.totalCount?$("#nolist1").show():$("#nolist1").hide()}return e.getData("/pc/user/profitDetail",{clientType:"PC",currentPage:t||0,pageSize:10,startDate:$("#startTime").val(),endDate:$("#endTime").val(),type:"0",queryType:"ALL"},[a])},e.lctPag=function(){function t(t){e.lctEarning(t)}$(".pages").paging({totalSize:e.get("totalCount"),turnSize:5,pageSize:10,callback:t})},e.lctEarning=function(t){function a(t){if(e.isSuccess(t)){var t=t.data;e.initTemplate(t,"earningDeatil","tempEarningDeatil"),e.set("totalCount",t.totalCount)}"0"==t.totalCount?$("#nolist1").show():$("#nolist1").hide()}return e.getData("/pc/user/profitDetail",{clientType:"PC",currentPage:t||0,pageSize:10,startDate:$("#startTime").val(),endDate:$("#endTime").val(),type:"0",queryType:"LCT"},[a])},e.lctxlPag=function(){function t(t){e.lctxlEarning(t)}$(".pages").paging({totalSize:e.get("totalCount"),turnSize:5,pageSize:10,callback:t})},e.lctxlEarning=function(t){function a(t){if(e.isSuccess(t)){var t=t.data;e.initTemplate(t,"earningDeatil","tempEarningDeatil"),e.set("totalCount",t.totalCount)}"0"==t.totalCount?$("#nolist1").show():$("#nolist1").hide()}return e.getData("/pc/user/profitDetail",{clientType:"PC",currentPage:t||0,pageSize:10,startDate:$("#startTime").val(),endDate:$("#endTime").val(),type:"0",queryType:"LCTXL"},[a])},e.lctjjPag=function(){function t(t){e.lctjjEarning(t)}$(".pages").paging({totalSize:e.get("totalCount"),turnSize:5,pageSize:10,callback:t})},e.lctjjEarning=function(t){function a(t){if(e.isSuccess(t)){var t=t.data;e.initTemplate(t,"earningDeatil","tempEarningDeatil"),e.set("totalCount",t.totalCount)}"0"==t.totalCount?$("#nolist1").show():$("#nolist1").hide()}return e.getData("/pc/user/profitDetail",{clientType:"PC",currentPage:t||0,pageSize:10,startDate:$("#startTime").val(),endDate:$("#endTime").val(),type:"0",queryType:"LCJJ"},[a])},$("#time .item").on("click",function(){$(this).addClass("selected").siblings().removeClass("selected"),"allDate"==$(this).data("time")?($("#startTime").val(""),$("#endTime").val("")):"today"==$(this).data("time")?($("#startTime").val(o),$("#endTime").val("")):"one"==$(this).data("time")?(r=t(o,1),$("#startTime").val(r),$("#endTime").val(o)):"three"==$(this).data("time")?(r=t(o,3),$("#startTime").val(r),$("#endTime").val(o)):"six"==$(this).data("time")&&(r=t(o,6),$("#startTime").val(r),$("#endTime").val(o))}),$("#change .item").on("click",function(){$(this).addClass("selected").siblings().removeClass("selected"),$("#look").attr("class","submit "+$(this).data("content"))}),$("#look").on("click",function(){$("#look").hasClass("all")?e.when(e.allEarning,[e.allPag]):$("#look").hasClass("lct")?e.when(e.lctEarning,[e.lctPag]):$("#look").hasClass("lctxl")?e.when(e.lctxlEarning,[e.lctxlPag]):$("#look").hasClass("security")&&e.when(e.lctjjEarning,[e.lctjjPag])}),$("#invest").on("click",function(){window.location.href="/finance/list/0/1/0/0"}),e.init=function(){e.collectEarn(),e.grandEarn(),e.when(e.allEarning,[e.allPag])},e.init()});